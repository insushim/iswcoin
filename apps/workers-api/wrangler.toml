name = "cryptosentinel-api"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[vars]
CORS_ORIGIN = "https://cryptosentinel-web-8cw.pages.dev"

# JWT_SECRET은 Wrangler secrets로 관리 (wrangler secret put JWT_SECRET)
# ENGINE_SECRET은 엔진 수동 실행 보호 (wrangler secret put ENGINE_SECRET)

[[d1_databases]]
binding = "DB"
database_name = "cryptosentinel-db"
database_id = "a141f651-6d4f-4f25-b7bb-31bb84a18d9f"

# Paper trading engine cron - every 5 minutes
[triggers]
crons = ["*/5 * * * *"]
